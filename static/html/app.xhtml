<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Escape Room - Game Control</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="static/css/reset.css" type="text/css" />
    <link rel="stylesheet" href="static/css/style.css?r=1.1" type="text/css" />
    <script type="text/javascript" src="static/js/jquery.js"></script>
    <script type="text/javascript" src="static/js/app.js?r=3"></script>
    <audio id="text_alert_sound" src="static/audio/mixkit-horror-bell-cartoon-transition-598.wav" preload="auto"></audio>
  </head>
  
  <body>
    <div style="margin:50px 100px;">
      <div class="container" style="">
        <div class="item bordered" style="">
          <div class="container centered title" style="">
            <h2>Suoni e video</h2>
          </div>
          <div class="container" style="">
            <button>Suono di allerta</button>
            <button>Mostra video apertura</button>
            <button class="disabled">Video stanza completata</button>
          </div>
        </div>
        <div style="width: 10%;">
        </div>
        <div class="item bordered" style="">
          <div class="container centered title" style="">
            <h2>Gestione Tempo</h2>
          </div>
          <div class="container right" style="">
            <button id="start_game">Avvia Partita</button>
          </div>
          <div class="container right" style="">
            <button id="timer_start" class="disabled">Play</button>
            <button id="timer_stop" class="disabled">Pausa</button>
          </div>
        </div>
      </div>
      <div class="container" style="">
      </div>
      <div class="container" style="">
        <div class="item bordered" style="">
          <div class="container centered title" style="">
            <h2>Invia messaggio alla stanza</h2>
          </div>
          <!-- <div class="container" style=""> -->
            <!-- <textarea rows="4" cols="100"></textarea> -->
          <!-- </div> -->
          <div class="container" style="">
            <input id="text_to_room" autocomplete="new-password" spellcheck="false"></input>
          </div>
          <div class="container right" style="">
            <button id="reset_text_to_room">Cancella</button>
            <button id="send_text_to_room">Invia</button>
          </div>
        </div>
      </div>
      <div class="container" style="">
        <div class="item bordered" style="">
        </div>
        <div class="item bordered" style="">
          <div class="container centered title" style="">
            <h2>Stato connessione</h2>
          </div>
          <div class="container" style="">
            <span id="connection_state">BLACK</span>
          </div>
          <div class="container right" style="">
            <script>
              //<![CDATA[
              $(document).on('click', '#test_room_connection', function(event) {
                $.post('/event/ping_room', {'text': 'test'}, function(data) {
                  data = JSON.parse(data);
                  if (data['ko']) {
                    $("#connection_state").html("RED");
                    return;
                  }
                  $("#connection_state").html("GREEN");
                });
              });
              //]]>
            </script>
            <button id="test_room_connection">Test</button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
